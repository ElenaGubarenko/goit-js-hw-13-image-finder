{"version":3,"sources":["webpack:///./js_files/apiService.js","webpack:///./index.js","webpack:///./hbs_files/template_img_card.hbs"],"names":["ImagePage","this","page","fetchPhoto","request","fetch","BASE_URL","then","response","json","answer","hits","catch","error","console","log","increasePage","decreasePage","dropPage","galleryRef","document","querySelector","newImagePage","inputRef","targetRef","lightboxContentRef","lightboxOverlayRef","lightboxRef","buttonUpRef","modalCloseRef","inputRequest","renderData","insertAdjacentHTML","templateImgCard","check","value","trim","innerHTML","closeModal","event","classList","toggle","IntersectionObserver","entries","observer","isIntersecting","treshold","observe","debouncedСheck","_debounce","addEventListener","dir","dataSourse","target","dataset","sourse","alt","src","window","code","remove","scrollTo","top","right","behavior","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"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","file":"main.fd756ea2e7e33fab0d27.js","sourcesContent":["const BASE_URL =\r\n  'https://pixabay.com/api/?key=20622592-50ccb321bb66e8f51c2ed20b3&image_type=photo&orientation=horizontal&per_page=12';\r\n\r\nexport default class ImagePage {\r\n  constructor() {\r\n    this.page = 1;\r\n  }\r\n\r\n  fetchPhoto(request) {\r\n    return fetch(`${BASE_URL}&page=${this.page}&q=${request}`)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(answer => {\r\n        return answer.hits;\r\n      })\r\n      .catch(error => {\r\n        console.log('Error');\r\n      });\r\n  }\r\n\r\n  increasePage() {\r\n    return (this.page += 1);\r\n  }\r\n\r\n  decreasePage() {\r\n    return (this.page -= 1);\r\n  }\r\n\r\n  dropPage() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","import styles from './styles.css';\r\nimport ImagePage from './js_files/apiService';\r\nimport templateImgCard from './hbs_files/template_img_card.hbs';\r\nimport * as _debounce from 'lodash/debounce';\r\n// import templateModalImg from './hbs_files/template_modal_img.hbs';\r\n\r\nconst galleryRef = document.querySelector('.gallery');\r\nconst newImagePage = new ImagePage();\r\nconst inputRef = document.querySelector('.search-form-input');\r\nconst targetRef = document.querySelector('.target');\r\nconst lightboxContentRef = document.querySelector('.lightbox-content');\r\nconst lightboxOverlayRef = document.querySelector('.lightbox-overlay');\r\nconst lightboxRef = document.querySelector('.lightbox');\r\nconst buttonUpRef = document.querySelector('.button-up');\r\nconst modalCloseRef = document.querySelector('.modal-close');\r\nlet inputRequest = '';\r\n\r\nconst fetchData = () => {\r\n  const newFetch = newImagePage.fetchPhoto(`${inputRequest}`);\r\n  return newFetch;\r\n};\r\n\r\nconst renderData = () => {\r\n  return fetchData().then(answer => {\r\n    galleryRef.insertAdjacentHTML('beforeend', templateImgCard(answer));\r\n  });\r\n};\r\n\r\nconst check = () => {\r\n  inputRequest = inputRef.value;\r\n  if (inputRequest.trim() === '') {\r\n    newImagePage.dropPage();\r\n    galleryRef.innerHTML = '';\r\n  } else renderData();\r\n};\r\n\r\nconst options = {\r\n  treshold: 0.5,\r\n};\r\n\r\nconst callback = (entries, observer) => {\r\n  if (entries[0].isIntersecting) {\r\n    newImagePage.increasePage();\r\n    check();\r\n  }\r\n};\r\n\r\nconst obsereverFunc = () => {\r\n  const observer = new IntersectionObserver(callback, options);\r\n  observer.observe(targetRef);\r\n};\r\n\r\nconst openModal = event => {\r\n  console.dir(event);\r\n  const dataSourse = event.target.dataset.sourse;\r\n  const alt = event.target.alt;\r\n  if (event.target.src) {\r\n    lightboxRef.classList.toggle('is-open');\r\n    lightboxContentRef.innerHTML = `<img class=\"big-img\" src=\"${dataSourse}\" alt=\"${alt}\"/>`;\r\n  }\r\n};\r\n\r\nconst modalCloseByEsc = event => {\r\n  if (event.code !== 'Escape') return;\r\n  lightboxRef.classList.remove('is-open');\r\n};\r\n\r\nconst closeModal = event => {\r\n  lightboxRef.classList.toggle('is-open');\r\n};\r\n\r\nconst goUp = () => {\r\n  window.scrollTo({\r\n    top: 0,\r\n    right: 0,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nobsereverFunc();\r\n\r\nconst debouncedСheck = _debounce(check, 700);\r\n\r\ninputRef.addEventListener('input', debouncedСheck);\r\ngalleryRef.addEventListener('click', openModal);\r\nwindow.addEventListener('keyup', modalCloseByEsc);\r\nlightboxOverlayRef.addEventListener('click', closeModal);\r\nbuttonUpRef.addEventListener('click', goUp);\r\nmodalCloseRef.addEventListener('click', closeModal);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class='img-card'>\\r\\n  <div class=\\\"photo-card\\\">\\r\\n    <img class=\\\"card-img\\\" data-sourse=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":38},\"end\":{\"line\":4,\"column\":55}}}) : helper)))\n    + \" src=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":60},\"end\":{\"line\":4,\"column\":76}}}) : helper)))\n    + \" alt=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":81},\"end\":{\"line\":4,\"column\":89}}}) : helper)))\n    + \" />\\r\\n\\r\\n    <div class=\\\" stats\\\">\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n        <span class=\\\"quality\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":30},\"end\":{\"line\":9,\"column\":39}}}) : helper)))\n    + \"</span>\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">visibility</i>\\r\\n        <span class=\\\"quality\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":30},\"end\":{\"line\":13,\"column\":39}}}) : helper)))\n    + \"</span>\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">comment</i>\\r\\n        <span class=\\\"quality\\\"> \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":31},\"end\":{\"line\":17,\"column\":43}}}) : helper)))\n    + \"</span>\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n        <span class=\\\"quality\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":30},\"end\":{\"line\":21,\"column\":43}}}) : helper)))\n    + \"</span>\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\\r\\n\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}